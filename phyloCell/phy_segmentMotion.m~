function budneck=phy_segmentMotion()
global segmentation timeLapse

img=phy_scale(img);% scale image (O 1)

budneck=phy_Object;%initialize


% load images

res=4;

imn=phy_loadTimeLapseImage(segmentation.position,1,segmentation.frame1,'non retreat');

if segmentation.frame1+res<timeLapse.numberOfFrames 
imnp1=phy_loadTimeLapseImage(segmentation.position,1,segmentation.frame1+res,'non retreat');
end

% compute image differences
   
   imnmean=mean2(imn);
   imnp1mean=mean2(imnp1);
   
   warning off all;
   su=uint16(imnmean*(abs(double(imn)/imnmean-double(imnp1)/imnp1mean)));
   warning on all; 
   
   
% detect moving objects

   %if i==3
   BW=zeros(size(su));
   %end
   
   obj=phy_getCellCentroid(su,10);
   

 %  build output objects


for k = 1:sizeobj,1)
    
    budneck(k).x=boundary(:,2);  %x contur
    budneck(k).y=boundary(:,1);   % y contur
    budneck(k).ox=mean(c); %x center
    budneck(k).oy=mean(r);  %y center
    budneck(k).n=k;
    
end